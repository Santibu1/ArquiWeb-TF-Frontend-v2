<mat-card class="form-card">

    <mat-card-title>
        {{ edicion ? 'Editar Empresa' : 'Nueva Empresa' }}
    </mat-card-title>

    <mat-card-content>

        <form [formGroup]="form" class="form-container" (ngSubmit)="onSubmit()">

            <mat-form-field appearance="fill">
                <mat-label>Nombre de la Empresa</mat-label>
                <input matInput formControlName="nombre" placeholder="Ingrese el nombre">
                <mat-error *ngIf="form.get('nombre')?.hasError('required')">
                    El nombre es requerido.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Descripción</mat-label>
                <textarea matInput formControlName="descripcion" placeholder="Ingrese la descripción"></textarea>
                <mat-error *ngIf="form.get('descripcion')?.hasError('required')">
                    La descripción es requerida.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Categoría</mat-label>
                <mat-select formControlName="categoria">
                    <mat-option *ngFor="let cat of categoriasEmpresa" [value]="cat">
                        {{cat}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="form.get('categoria')?.hasError('required')">
                    La categoría es requerida.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Estado</mat-label>
                <mat-select formControlName="estado">
                    <mat-option *ngFor="let est of estadosEmpresa" [value]="est">
                        {{est}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="form.get('estado')?.hasError('required')">
                    El estado es requerido.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>ID de Usuario (Admin)</mat-label>
                <input matInput type="number" formControlName="usuario_id" placeholder="1">
                <mat-error *ngIf="form.get('usuario_id')?.hasError('required')">
                    El ID de usuario es requerido.
                </mat-error>
            </mat-form-field>

            <div class="action-buttons">
                <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid">
                    {{ edicion ? 'Actualizar' : 'Guardar' }}
                </button>
                <button type="button" mat-button (click)="cancelar()">
                    Cancelar
                </button>
            </div>

        </form>
    </mat-card-content>
</mat-card>