<app-sub-navbar-usuario></app-sub-navbar-usuario>

<div class="user-home-dashboard" *ngIf="usuarioLogueado; else cargando">

    <div class="user-greeting-section">
        <h1>Bienvenido de nuevo, {{ usuarioLogueado.nombreUsuario }}</h1>

        <div class="user-stats-card">
            <div class="stat-item">
                <span class="stat-value">{{ usuarioLogueado.ecobits }}</span>
                <span class="stat-label">Puntos acumulados</span>
            </div>
        </div>
    </div>

    <!-- ðŸ”¥ ECO TIP - Reemplaza la secciÃ³n de Recientes -->
    <div class="eco-tip-card">
        <h3>ðŸ’¬ EcoChat â€“ Consejo del DÃ­a</h3>

        <p *ngIf="cargandoEcoTip" class="loading">
            Obteniendo tu eco-consejo...
        </p>

        <p *ngIf="!cargandoEcoTip" class="eco-text">
            {{ ecoTip }}
        </p>

        <button class="btn-refrescar" (click)="cargarEcoTip()" [disabled]="cargandoEcoTip">
            ðŸ”„ Nuevo consejo
        </button>
    </div>
    <!-- SECCIÃ“N DE SUSCRIPCIÃ“N -->
    <div class="subscription-section">
        <h2>ðŸŒ± Â¿AÃºn no tienes un plan con nosotros?</h2>
        <p>
            Â¡No esperes mÃ¡s! SuscrÃ­bete hoy y accede a beneficios exclusivos,
            eco-recompensas y contenido premium para mejorar tu vida sostenible.
        </p>

        <button class="subscribe-btn" (click)="irASuscripcion()">
            Ver planes de suscripciÃ³n
        </button>
    </div>

</div>

<ng-template #cargando>
    <div class="loading-container">
        <p *ngIf="!errorCarga">Cargando tu perfil...</p>
        <p *ngIf="errorCarga" class="error-message">{{ errorCarga }}</p>
    </div>
</ng-template>
